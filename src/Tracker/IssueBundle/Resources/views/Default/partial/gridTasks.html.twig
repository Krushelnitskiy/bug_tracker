{% import "TrackerHomeBundle::macros.html.twig" as UI %}

<table class="table table-bordered">
	<thead>
	<tr>
		<th>{{ "issue.grid.code"|trans }}</th>
		<th>{{ "issue.grid.summary"|trans }}</th>
		<th>{{ "issue.grid.type"|trans }}</th>
		<th>{{ "issue.grid.status"|trans }}</th>
		<th>{{ "issue.grid.assignee"|trans }}</th>
	</tr>
	</thead>
	<tbody>
	{% for entity in entities %}
		{% if project is empty %}
			{% set pathIssueView = path('issue_show', { 'issue': entity.code }) %}
		{% else %}
			{% set pathIssueView = path('project_issue_show', { 'project': project.code, 'issue': entity.code }) %}
		{% endif %}
		{% set pathProjectView = path('project_show', { 'project': entity.project.code }) %}

		<tr>
			<td><a href="{{ pathIssueView }}">{{ entity.code }}</a></td>
			<td><a href="{{ pathIssueView }}">{{ entity.summary }}</a></td>
			<td>{{ entity.type.value }}</td>
            <td>{{ entity.status }}</td>
            <td>{{ UI.renderLinkUserPage(entity.assignee, entity.assignee.fullName) }} </td>
		</tr>
	{% endfor %}
	</tbody>
</table>
