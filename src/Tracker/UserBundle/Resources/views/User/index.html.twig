{% extends '::base.html.twig' %}

{% block title %}
    {{ "user.page.list"|trans }}
{% endblock title %}


{% block body -%}
    <h3>{{ 'user.page.list.title'|trans }}</h3>

    <p>
        <a href="{{ path('user_new') }}">
            {{ "user.action.create"|trans }}
        </a>
    </p>


    <table class="records_list table table-bordered">
        <thead>
            <tr>
                <th>{{ "user.grid.id"|trans }}</th>
                <th></th>
                <th>{{ "user.grid.username"|trans }}</th>
                <th>{{ "user.grid.email"|trans }}</th>
                <th>{{ "user.grid.role"|trans }}</th>
                <th>{{ "user.grid.lastLogin"|trans }}</th>
                <th>{{ "user.grid.enabled"|trans }}</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            {% set pathShowUser = path('user_show', { 'user': entity.id }) %}

            <tr>
                <td><a href="{{ pathShowUser }}">{{ entity.id }}</a></td>
                <td>
                    {% if entity.getWebPath() %}
                        <a href="{{ pathShowUser }}">
                            <img src="{{ entity.getWebPath() }}"  width="64"/>
                        </a>
                    {% endif %}
                </td>
                <td><a href="{{ pathShowUser }}">{{ entity.username }}</a></td>
                <td><a href="{{ pathShowUser }}">{{ entity.email }}</a></td>
                <td><a href="{{ pathShowUser }}">{{ entity.roles[0] }}</a></td>
                <td><a href="{{ pathShowUser }}">{{ entity.lastLogin|date('d.m.Y H:i:s') }}</a></td>
                <td><a href="{{ pathShowUser }}">{{ entity.enabled }}</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
