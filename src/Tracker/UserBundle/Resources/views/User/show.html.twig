{% extends '::base.html.twig' %}

{% block body -%}
    <h3>{{ "user.page.user.title"|trans }}</h3>

    <p>
        <a href="{{ path('user') }}">
            {{ "user.action.backToList"|trans }}
        </a>
        {% if is_granted('edit', entity) %}
            |
            <a href="{{ path("user_edit", {userId: entity.id}) }}">
                {{ "user.action.edit"|trans }}
            </a>
        {% endif %}
    </p>

    <table class="record_properties table">
        <tbody>
            <tr>
                <th>{{ "user.grid.id"|trans }}</th>
                <td>{{ entity.id }}</td>
            </tr>

            <tr>
                <th>{{ "user.grid.username"|trans }}</th>
                <td>{{ entity.username }}</td>
            </tr>

            <tr>
                <th>{{ "user.grid.email"|trans }}</th>
                <td>{{ entity.email }}</td>
            </tr>

            <tr>
                <th>{{ "user.grid.lastLogin"|trans }}</th>
                <td>{{ entity.lastLogin|date("d.m.Y") }}</td>
            </tr>

            <tr>
                <th>{{ "user.grid.enabled"|trans }}</th>
                <td>{{ entity.enabled }}</td>
            </tr>
        </tbody>
    </table>


    <div class="home-issue col-md-6">
        {% if entity.assignedIssue|length > 0 %}
            <div class="block-with-title">
                    <h2>{{ 'layout.listIssue.title'|trans }}</h2>
                    <ul>
                        {% for issue in entity.assignedIssue %}
                            <li>
                                {% include 'TrackerHomeBundle:Default:issue.html.twig' with { 'issue': issue } %}
                            </li>
                        {% endfor %}
                    </ul>

                <a href="{{ path("issue") }}">{{ "layout.listIssue.linkToAll"|trans }}</a>
            </div>
        {% endif %}
    </div>
{% endblock %}
