{% extends '::base.html.twig' %}

{% block title %}
    {{ "project.list"|trans }}
{% endblock title %}

{% block body -%}
    <h3>{{ 'project.list'|trans }}</h3>

    <p>
        {% if is_granted('create', emptyEntity) %}
            <a href="{{ path('project_new') }}">
                {{ "project.action.create"|trans }}
            </a>
        {% endif %}
    </p>

    <table class="records_list table table-bordered">
        <thead>
            <tr>
                <th>{{ 'project.grid.code'|trans }}</th>
                <th>{{ 'project.grid.label'|trans }}</th>
                <th>{{ 'project.grid.summary'|trans }}</th>

            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            {% set pathProject = path('project_show', { 'project': entity.code }) %}
            {% if is_granted ('view', entity) %}
                <tr>
                    <td><a href="{{ pathProject }}">{{ entity.code }}</a></td>
                    <td><a href="{{ pathProject }}">{{ entity.label }}</a></td>
                    <td>{{ entity.summary }}</td>
                </tr>
            {% endif %}
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
